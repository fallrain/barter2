(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/haierHouse/HaierHouseApplySecondPage"],{7641:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){return i.e("components/ss-upload-image/ss-upload-image").then(i.bind(null,"7571"))},n=function(){return i.e("components/uni-icon/uni-icon").then(i.bind(null,"bea1"))},s=function(){return i.e("components/common/BMultrowCheckbox").then(i.bind(null,"bcf8"))},r=function(){return i.e("components/uni-popup/uni-popup").then(i.bind(null,"b055"))},o={name:"HaierHouseApplySecondPage",components:{ssUploadImage:a,UniIcon:n,BMultrowCheckbox:s,uniPopup:r},data:function(){return{url:this.envConfig.domain+"barter-builthouse/buildHouse/uploadImage",imgName:"file",ID:"",fileList:[],alert:!1,alertMsg:"",current:1,address:"",areaName:"",areaAddName:"",storeName:"",startArea:"",endArea:"",avePrice:"",nums:1,apartmentIds:[],coverArea:[],coverAS:[],addList:[{id:0,name:"小区",imgs:[]}],fileMap:{},addPromation:!1,items:[{id:"1",name:"一室一厅"},{id:"2",name:"两室一厅"},{id:"3",name:"三室一厅"},{id:"4",name:"四室一厅"},{id:"5",name:"三室二厅"}]}},onLoad:function(e){this.ID=e.id,this.genFileMap()},methods:{genFileMap:function(){for(var e=this,t=[],i=0;i<100;i++){var a={id:i,name:"",imgs:[]};t.push(a)}setTimeout(function(){t.forEach(function(t){e.$set(e.fileMap,t.id,[])})})},checkboxChange:function(e){this.apartmentIds=e.value,console.log(this.apartmentIds)},onSuccess:function(e){var t=e.data,i=e.fileList;i.push(t.data.imageUrl)},hidePopupAlert:function(){this.alert=!1},onError:function(){},onRemove:function(e){var t=e.index,i=e.fileList;i.splice(t,1)},addressEnd:function(){""===this.address&&(this.alert=!0,this.alertMsg="地址不能为空")},nameEnd:function(){""===this.storeName&&(this.alert=!0,this.alertMsg="店名不能为空")},areaStart:function(){""===this.startArea&&(this.alert=!0,this.alertMsg="起始面积不能为空")},areaEnd:function(){if(""===this.endArea)return this.alert=!0,void(this.alertMsg="面积不能为空");this.startArea>=this.endArea&&(this.alert=!0,this.alertMsg="面积区间有误")},coverEnd:function(){if(""!=this.areaName){var e={id:1,name:this.areaName,imgs:[]};this.addList.push(e),this.addPromation=!0}},coverAddEnd:function(e){if(""!=e.name){var t=this.addList.length-1;if(t==this.coverArea.length){var i=[];i=this.addList.concat(this.coverArea),this.addList=i}else for(var a=0;a<this.coverArea.length;a++)if(this.coverArea[a].id==e.id)return this.coverArea[a].name=e.name,void(this.coverArea[a].imgs=[])}},addCover:function(){if(this.addPromation){this.nums++;var e={id:this.nums,name:"",imgs:[]};this.coverArea.push(e)}else""===this.areaName&&(this.alert=!0,this.alertMsg="小区名不能为空")},locationAddress:function(){var t=this;e.chooseLocation({success:function(e){var i=e.address;t.address=i}})},submitInfo:function(){if(""===this.storeName)return this.alertMsg="请输入店名",void(this.alert=!0);if(""===this.address)return this.alertMsg="请输入详细地址",void(this.alert=!0);if(""===this.startArea)return this.alertMsg="请输入起始面积",void(this.alert=!0);if(""===this.endArea)return this.alertMsg="请输入结束面积",void(this.alert=!0);for(var e=[],t=[],i=[],a=0;a<this.addList.length;a++)for(var n in this.fileMap)if(this.addList[a].id==n){var s={id:n,imgs:this.fileMap[n]};e.push(s),0!=n&&i.push(s),t.push(this.addList[a].name),this.addList[a].imgs=this.fileMap[n]}var r=this.addList[0].imgs;this.hPost("barter-builthouse/buildHouse/saveAreaInfo",{shopId:this.ID,createBy:"Z0000001",buildFamilyName:this.storeName,detailAddress:this.address,coverageArea:JSON.stringify(t),communityFamily:JSON.stringify(this.apartmentIds),areaBegin:this.startArea,areaEnd:this.endArea,averagePrice:this.avePrice,communityPic:JSON.stringify(r),coverageAreaPic:JSON.stringify(i)}).then(function(e){e&&console.log(e)})}}};t.default=o}).call(this,i("543d")["default"])},8187:function(e,t,i){"use strict";i.r(t);var a=i("c93f"),n=i("831e");for(var s in n)"default"!==s&&function(e){i.d(t,e,function(){return n[e]})}(s);i("83c3");var r=i("2877"),o=Object(r["a"])(n["default"],a["a"],a["b"],!1,null,"ab24cfe4",null);t["default"]=o.exports},"831e":function(e,t,i){"use strict";i.r(t);var a=i("7641"),n=i.n(a);for(var s in a)"default"!==s&&function(e){i.d(t,e,function(){return a[e]})}(s);t["default"]=n.a},"83c3":function(e,t,i){"use strict";var a=i("d94f"),n=i.n(a);n.a},c93f:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,a=(e._self._c,i("f0ed")),n=i("e3a8");e.$mp.data=Object.assign({},{$root:{m0:a,m1:n}})},n=[];i.d(t,"a",function(){return a}),i.d(t,"b",function(){return n})},d94f:function(e,t,i){}},[["1ee9","common/runtime","common/vendor"]]]);